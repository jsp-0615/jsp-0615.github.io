<!DOCTYPE HTML>
<html class="no-js" lang="zh-Hans">
<head>
    <!--[if lte IE 9]>
    <meta http-equiv="refresh" content="0;url=https://jsp-0615.github.io/warn.html">
<![endif]-->

<meta charset="utf-8" />
<title>sql44 查询连续入住多晚的客户信息？ | Jasper自学笔记</title>
<meta name="keywords" content="" />
<meta name="description" content="SQL44查询连续入住多晚的客户信息？描述某酒店客房信息数据及某晚入住信息数据如下：
客房信息表guestroom_tb(room_id-房间号,room_type-房间类型,room_price-房间价格)，如下所示：



room_id
room_type
room_price



1001
商务标准房
165


1002
家庭套房
376


1003
商务单人房
100


1004" />
<meta name="author" content="Jasper" />
<meta name="applicable-device" content="pc,mobile" />
<meta name="format-detection" content="telephone=no,email=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-title" content="Jasper自学笔记" />
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<meta property="og:type" content="article" />
<meta property="og:title" content="sql44 查询连续入住多晚的客户信息？ | Jasper自学笔记" />
<meta property="og:description" content="SQL44查询连续入住多晚的客户信息？描述某酒店客房信息数据及某晚入住信息数据如下：
客房信息表guestroom_tb(room_id-房间号,room_type-房间类型,room_price-房间价格)，如下所示：



room_id
room_type
room_price



1001
商务标准房
165


1002
家庭套房
376


1003
商务单人房
100


1004" />
<meta property="og:url" content="https://jsp-0615.github.io" />
<meta property="og:site_name" content="Jasper自学笔记" />

<link rel="dns-prefetch" href="https://jsp-0615.github.io" />
<link rel="preconnect" href="https://jsp-0615.github.io" />

    <link rel="preconnect" href="https://.disqus.com" />
    <link rel="preconnect" href="https://c.disquscdn.com" />


<link rel="icon" type="image/svg+xml" href="https://jsp-0615.github.io/images/favicon.svg" />
<link rel="alternate icon" type="image/png" href="https://jsp-0615.github.io/images/favicon.png" />
<link rel="alternate" type="application/xml" title="Site Map" href="https://jsp-0615.github.io/sitemap.xml"/>
<link rel="canonical" href="https://jsp-0615.github.io/problemNotes/2025/04/12/SQL44/" />


<link rel="stylesheet" href="/css/fonts/fontawesome-webfont.woff2?v=4.7.0" as="font" type="font/woff2" media="print" onload="this.media='all'" crossorigin />
<link rel="stylesheet" href="/css/JSimple.min.css" />

<style id="highl_css"></style>

<script type="text/javascript">
    (function() {
        let jsi_config = {
            isPost: 'true',
            creationTime: '12/04/2025',
            highlightTheme: 'atom-one',
            readMode: 'day',
            chatLink: '',
            localSearch: { dbPath: '' }
        };
        
            jsi_config.localSearch = {
                dbPath: '/search.xml',
                trigger: 'auto',
                topN: '1',
                unescape: 'false'
            }
        
        window.jsi_config = jsi_config;
    })()
</script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="JSM">JSM</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span>首页</span></a>
        <a href="/archives" title="归档"><i class="fa fa-archives"></i><span>归档</span></a>
        <a href="/tags" title="标签"><i class="fa fa-tags"></i><span>标签</span></a>
        <!-- custom single page of menus -->
        
        
        <a href="/about" title="About">
            <i class="fa fa-question-circle"></i>
            <span>About</span>
        </a>
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#" aria-label="content searching link"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#" aria-label="reading mode chang"><i class="fa fa-sun-o"></i></a>
    
</div>
<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <img class="cover-img" src="/images/cover-day.webp" alt="cover-img" loading="lazy"/>
    <div class="cover-info">
        <img class="avatar" src="/images/avatar.webp" width="100" alt="avatar" loading="lazy"/>
        <h1>Jasper知识库</h1>
        <h3></h3>
        <h4>全栈DS/DA工程师养成记</h4>
        <div class="cover-sns">
            
    <div class="btn btn-github">
        <a href="https://github.com/jsp-0615" title="github" rel="external nofollow noopener" target="_blank">
            <i class="fa fa-github"></i>
        </a>
    </div>

    <div class="btn btn-youtube">
        <a href="" title="youtube" rel="external nofollow noopener" target="_blank">
            <i class="fa fa-youtube"></i>
        </a>
    </div>


        </div>
    </div>
</div>

            <div class="page-title">
    <ul>
        <li><a href="/">最新</a></li>
        
            
                <li class="">
                    <a href="/categories/knowledgeNotes" data-name="知识笔记">知识笔记</a>
                </li>
            
                <li class="">
                    <a href="/categories/outcomes" data-name="成果展示">成果展示</a>
                </li>
            
                <li class="">
                    <a href="/categories/problemNotes" data-name="问题笔记">问题笔记</a>
                </li>
            
                <li class="">
                    <a href="/categories/grocery" data-name="杂货铺">杂货铺</a>
                </li>
            
        
        <li class="page-search">
    <form id="search" class="search-form">
        <input type="text"
               readonly="readonly"
               id="local-search-input-tip"
               placeholder="按Shift启动搜索" />
        <button type="button" aria-label="fa-search" disabled="disabled" class="search-form-submit"><i class="fa fa-search"></i></button>
    </form>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope itemtype="https://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix" itemscope itemtype="https://schema.org/Person">
                <a class="avatar fleft" target="_blank" href="https://github.com/jsp-0615" rel="author noopener">
                    <img width="48" src="/images/avatar.webp" alt="avatar" itemprop="image"/>
                </a>
                <p><span class="label">作者</span>
                    <a target="_blank" rel="noopener" href="https://github.com/jsp-0615" itemprop="url"><span itemprop="name">Jasper</span></a>
                    <span itemprop="datePublished" content="2025-04-12T23:53:20.429+10:00">最后编辑于&nbsp;2025-04-12</span>
                </p>
                <p itemprop="description">一个学习记录网站</p>
            </div>
            <h1 class="post-title">
                <a target="_self" href="https://jsp-0615.github.io/problemNotes/2025/04/12/SQL44/" itemprop="mainEntityOfPage"><span itemprop="headline">SQL44 查询连续入住多晚的客户信息？</span></a>
            </h1>
            <div class="post-meta" itemprop="wordCount">
                本文共计4433个字 |
                <span id="busuanzi_container_page_pv">
                    你是第&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>位到访读者
                </span>
            </div>
        </div>
        <div class="post-content markdown-body articleBody" itemprop="articleBody">
            <h1 id="SQL44查询连续入住多晚的客户信息？"><a href="#SQL44查询连续入住多晚的客户信息？" class="headerlink" title="SQL44查询连续入住多晚的客户信息？"></a>SQL44查询连续入住多晚的客户信息？</h1><h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h2><p>某酒店客房信息数据及某晚入住信息数据如下：</p>
<p>客房信息表<strong>guestroom_tb</strong>(room_id-房间号,room_type-房间类型,room_price-房间价格)，如下所示：</p>
<table>
<thead>
<tr>
<th>room_id</th>
<th>room_type</th>
<th>room_price</th>
</tr>
</thead>
<tbody><tr>
<td>1001</td>
<td>商务标准房</td>
<td>165</td>
</tr>
<tr>
<td>1002</td>
<td>家庭套房</td>
<td>376</td>
</tr>
<tr>
<td>1003</td>
<td>商务单人房</td>
<td>100</td>
</tr>
<tr>
<td>1004</td>
<td>商务单人房</td>
<td>100</td>
</tr>
<tr>
<td>1005</td>
<td>商务标准房</td>
<td>165</td>
</tr>
<tr>
<td>1006</td>
<td>商务单人房</td>
<td>100</td>
</tr>
<tr>
<td>1007</td>
<td>商务标准房</td>
<td>165</td>
</tr>
<tr>
<td>1008</td>
<td>家庭套房</td>
<td>365</td>
</tr>
<tr>
<td>1009</td>
<td>商务标准房</td>
<td>165</td>
</tr>
</tbody></table>
<p>入住信息表<strong>checkin_tb</strong>(info_id-信息id.room_id-房间号,user_id-客户id,checkin_time-入住时间,checkout_time-退房时间)，</p>
<p>该表存储该晚客户入住信息及后续退房信息，如下所示：</p>
<table>
<thead>
<tr>
<th>info_id</th>
<th>room_id</th>
<th>user_id</th>
<th>checkin_time</th>
<th>checkout_time</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1001</td>
<td>201</td>
<td>2022-06-12 15:00:00</td>
<td>2022-06-13 09:00:00</td>
</tr>
<tr>
<td>2</td>
<td>1001</td>
<td>202</td>
<td>2022-06-12 15:00:00</td>
<td>2022-06-13 09:00:00</td>
</tr>
<tr>
<td>3</td>
<td>1003</td>
<td>203</td>
<td>2022-06-12 14:00:00</td>
<td>2022-06-14 08:00:00</td>
</tr>
<tr>
<td>4</td>
<td>1004</td>
<td>204</td>
<td>2022-06-12 15:00:00</td>
<td>2022-06-13 11:00:00</td>
</tr>
<tr>
<td>5</td>
<td>1007</td>
<td>205</td>
<td>2022-06-12 16:00:00</td>
<td>2022-06-15 12:00:00</td>
</tr>
<tr>
<td>6</td>
<td>1008</td>
<td>206</td>
<td>2022-06-12 19:00:00</td>
<td>2022-06-13 12:00:00</td>
</tr>
<tr>
<td>7</td>
<td>1008</td>
<td>207</td>
<td>2022-06-12 19:00:00</td>
<td>2022-06-13 12:00:00</td>
</tr>
<tr>
<td>8</td>
<td>1009</td>
<td>208</td>
<td>2022-06-12 20:00:00</td>
<td>2022-06-16 09:00:00</td>
</tr>
</tbody></table>
<p>问题：请查询该酒店从6月12日开始连续入住多晚的客户信息？</p>
<p>要求输出：客户id、房间号、房间类型、连续入住天数（按照连续入住天数的升序排序，再按照房间号的升序排序，再按照客户id的降序排序）</p>
<p>示例数据结果如下：</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>room_id</th>
<th>room_type</th>
<th>days</th>
</tr>
</thead>
<tbody><tr>
<td>203</td>
<td>1003</td>
<td>商务单人房</td>
<td>2</td>
</tr>
<tr>
<td>205</td>
<td>1007</td>
<td>商务标准房</td>
<td>3</td>
</tr>
<tr>
<td>208</td>
<td>1009</td>
<td>商务标准房</td>
<td>4</td>
</tr>
</tbody></table>
<p>解释：以客户203为例，在2022-06-12入住酒店，在2022-06-14退房，连续在12日晚、13日晚入住在该酒店，故结果如上；其他结果同理。</p>
<p>示例输入：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span>  `guestroom_tb` ; </span><br><span class="line"><span class="keyword">CREATE TABLE</span> `guestroom_tb` (</span><br><span class="line">`room_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`room_type` <span class="type">varchar</span>(<span class="number">16</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`room_price` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span> (`room_id`));</span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1001</span>,<span class="string">&#x27;商务标准房&#x27;</span>,<span class="number">165</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1002</span>,<span class="string">&#x27;家庭套房&#x27;</span>,<span class="number">376</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1003</span>,<span class="string">&#x27;商务单人房&#x27;</span>,<span class="number">100</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1004</span>,<span class="string">&#x27;商务单人房&#x27;</span>,<span class="number">100</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1005</span>,<span class="string">&#x27;商务标准房&#x27;</span>,<span class="number">165</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1006</span>,<span class="string">&#x27;商务单人房&#x27;</span>,<span class="number">100</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1007</span>,<span class="string">&#x27;商务标准房&#x27;</span>,<span class="number">165</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1008</span>,<span class="string">&#x27;家庭套房&#x27;</span>,<span class="number">365</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> guestroom_tb <span class="keyword">VALUES</span>(<span class="number">1009</span>,<span class="string">&#x27;商务标准房&#x27;</span>,<span class="number">165</span>); </span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span>  `checkin_tb` ; </span><br><span class="line"><span class="keyword">CREATE TABLE</span> `checkin_tb` (</span><br><span class="line">`info_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`room_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`user_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">`checkin_time` datetime <span class="keyword">NOT NULL</span>,</span><br><span class="line">`checkout_time` datetime <span class="keyword">NOT NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY KEY</span> (`info_id`));</span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">1001</span>,<span class="number">201</span>,<span class="string">&#x27;2022-06-12 15:00:00&#x27;</span>,<span class="string">&#x27;2022-06-13 09:00:00&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="number">1001</span>,<span class="number">202</span>,<span class="string">&#x27;2022-06-12 15:00:00&#x27;</span>,<span class="string">&#x27;2022-06-13 09:00:00&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="number">1003</span>,<span class="number">203</span>,<span class="string">&#x27;2022-06-12 14:00:00&#x27;</span>,<span class="string">&#x27;2022-06-14 08:00:00&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="number">1004</span>,<span class="number">204</span>,<span class="string">&#x27;2022-06-12 15:00:00&#x27;</span>,<span class="string">&#x27;2022-06-13 11:00:00&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">5</span>,<span class="number">1007</span>,<span class="number">205</span>,<span class="string">&#x27;2022-06-12 16:00:00&#x27;</span>,<span class="string">&#x27;2022-06-15 12:00:00&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">6</span>,<span class="number">1008</span>,<span class="number">206</span>,<span class="string">&#x27;2022-06-12 19:00:00&#x27;</span>,<span class="string">&#x27;2022-06-13 12:00:00&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">7</span>,<span class="number">1008</span>,<span class="number">207</span>,<span class="string">&#x27;2022-06-12 19:00:00&#x27;</span>,<span class="string">&#x27;2022-06-13 12:00:00&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT INTO</span> checkin_tb <span class="keyword">VALUES</span>(<span class="number">8</span>,<span class="number">1009</span>,<span class="number">208</span>,<span class="string">&#x27;2022-06-12 20:00:00&#x27;</span>,<span class="string">&#x27;2022-06-16 09:00:00&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>答案</p>
<p>这道题对我的难点在于，在group by的时候，想要输出哪些列group by的时候就要写哪些，我这里用group by是因为我怕同一个顾客有多次入住记录，比如用户201他在6月12日有过入住记录，如果它6月15号还有入住记录，这时候就需要有区别。</p>
<p><code>DATE(ct.checkin_time) = &#39;2022-06-12&#39;</code>：选择在2022年6月12日入住的记录。<code>DATEDIFF(ct.checkout_time, ct.checkin_time) &gt;= 2</code>：选择连续入住至少两晚的记录（注意不要在where直接使用days&gt;&#x3D; 2）。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">    user_id,</span><br><span class="line">    g.room_id,</span><br><span class="line">    room_type,</span><br><span class="line">    <span class="keyword">day</span> (checkout_time) <span class="operator">-</span> <span class="keyword">day</span> (checkin_time) <span class="keyword">as</span> days</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">    (</span><br><span class="line">        <span class="keyword">select</span></span><br><span class="line">            user_id,</span><br><span class="line">            c.room_id,</span><br><span class="line">            checkin_time,</span><br><span class="line">            checkout_time</span><br><span class="line">        <span class="keyword">from</span></span><br><span class="line">            checkin_tb <span class="keyword">as</span> c</span><br><span class="line">        <span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line">            user_id,</span><br><span class="line">            c.room_id,</span><br><span class="line">            checkin_time,</span><br><span class="line">            checkout_time</span><br><span class="line">    ) temp</span><br><span class="line">    <span class="keyword">inner</span> <span class="keyword">join</span> guestroom_tb <span class="keyword">as</span> g <span class="keyword">on</span> g.room_id <span class="operator">=</span> temp.room_id</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    <span class="type">DATE</span> (temp.checkin_time) <span class="operator">&gt;=</span> <span class="string">&#x27;2022-06-12&#x27;</span></span><br><span class="line">    <span class="keyword">and</span> <span class="keyword">day</span> (checkout_time) <span class="operator">-</span> <span class="keyword">day</span> (checkin_time) <span class="operator">&gt;</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">    days,</span><br><span class="line">    g.room_id,</span><br><span class="line">    user_id <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>题解代码</p>
<p>注意使用DATEDIFF函数，然后where语句不能直接使用days来做判断条件，但是我觉得题解这里没有解决同一个顾客如果有多条记录的情况怎么解决</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    ct.user_id,</span><br><span class="line">    ct.room_id,</span><br><span class="line">    gt.room_type,</span><br><span class="line">    DATEDIFF(ct.checkout_time, ct.checkin_time) <span class="keyword">AS</span> days</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    checkin_tb ct</span><br><span class="line"><span class="keyword">JOIN</span> </span><br><span class="line">    guestroom_tb gt <span class="keyword">ON</span> gt.room_id <span class="operator">=</span> ct.room_id</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">   <span class="type">DATE</span>(ct.checkin_time) <span class="operator">=</span> <span class="string">&#x27;2022-06-12&#x27;</span> <span class="keyword">AND</span> DATEDIFF(ct.checkout_time, ct.checkin_time) <span class="operator">&gt;=</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">    days <span class="keyword">ASC</span>, ct.room_id <span class="keyword">ASC</span>, ct.user_id <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>


            
                
            
        </div>

        

        
        <div class="post-tags">标签：
            
            <a href="/tags/notes/">notes</a>
            
        </div>
        
    </article>
    
        <p style="text-align: center">声明: 本文内容由Jasper创作整理，读者若需转载，请保留出处，谢谢！</p>
    
    
    
</div>

        </div>
    </div>
    <footer class="footer">
    <div class="footer-inner" style="text-align: center">
        <p>
            本站已建立&nbsp;<a href="/about" id="siteBuildingTime"></a>&nbsp;天， <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span><br/>
            ©2025-<span id="cpYear"></span> 基于&nbsp;<a href="http://hexo.io" target="_blank" rel="external nofollow noopener" title="Hexo">Hexo</a>
            ，主题采用&nbsp;&nbsp;<a href="https://github.com/tangkunyin/hexo-theme-jsimple" target="_blank" rel="external nofollow noopener" title="JSimple theme">JSimple</a>
            ，作者&nbsp;<a href="https://github.com/jsp-0615" target="_blank" title="author">Jasper</a>
            ，托管于&nbsp;<a href="https://pages.github.com" target="_blank" rel="external nofollow noopener" title="github">github</a>
            ，<a href="https://jsp-0615.github.io/sitemap.xml" title="网站地图" rel="alternate" type="application/xml">网站地图</a>
        </p>
    </div>
</footer>
</div>
<!-- search pop -->
<div class="popup search-popup local-search-popup">
    <div class="local-search-header clearfix">
        <span class="search-icon">
            <i class="fa fa-search"></i>
        </span>
        <span class="popup-btn-close">
            <i class="fa fa-times-circle"></i>
        </span>
        <div class="local-search-input-wrapper">
            <input id="local-search-input"
                   spellcheck="true"
                   type="text"
                   autocomplete="off"
                   placeholder="请输入查询关键词"/>
        </div>
    </div>
    <div id="local-search-result"></div>
</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>
<script async src="/js/SimpleCore.min.js"></script>
<script defer src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!-- disqus count -->

    


<!-- google analytics -->


<!-- ms clarity -->

</body>
</html>